============================================================
STATSPHERE - LOGIN AND REGISTER PAGES
============================================================
Files: frontend/src/pages/Login.js
       frontend/src/pages/Register.js
URLs: /login and /register
============================================================

WHAT THESE PAGES DO
--------------------
Login: Lets existing users sign into their account.
Register: Lets new users create an account.

Both pages are forms with text inputs and a submit button.

HOW REGISTER WORKS (STEP BY STEP)
------------------------------------
1. User fills in: name, email, password

2. User clicks "Register"

3. Frontend sends a POST request to the backend:
   POST /api/auth/register
   Body: { name: "John", email: "john@email.com", password: "123" }

4. Backend receives the data:
   a. Checks if email already exists in the database
   b. If it does, sends back an error
   c. If it doesn't, hashes the password (scrambles it for safety)
   d. Saves the new user in the PostgreSQL database
   e. Creates a JWT token (a login pass)
   f. Sends the token back in a cookie

5. Frontend receives the response:
   a. If success, redirects to the Dashboard
   b. If error, shows the error message

HOW LOGIN WORKS (STEP BY STEP)
---------------------------------
1. User fills in: email, password

2. User clicks "Login"

3. Frontend sends a POST request:
   POST /api/auth/login
   Body: { email: "john@email.com", password: "123" }

4. Backend:
   a. Finds the user by email in the database
   b. Compares the password with the stored hash
   c. If they match, creates a JWT token
   d. Sends the token back in a cookie

5. Frontend receives the response and redirects to Dashboard.

JWT TOKENS EXPLAINED (SIMPLE VERSION)
----------------------------------------
JWT = JSON Web Token. It's like a digital ID card.

When you log in, the server gives you a token.
This token proves who you are.
Every time you visit a page or send a chat message,
your browser sends the token so the server knows it's you.

The token is stored in a cookie (a small file in your browser).
When you log out, the cookie is deleted.

See authentication_flow.txt for more details.

PASSWORD HASHING
------------------
We NEVER store passwords as plain text.
Instead, we use "bcrypt" to hash them.

Hashing means turning "password123" into something like:
  "$2b$10$xJKfY3kR.../..."

You can't reverse a hash back to the original password.
When logging in, we hash what the user typed and compare
the two hashes. If they match, the password is correct.

KEY REACT CONCEPTS USED
-------------------------
- useState: Stores form inputs (email, password, name)
- fetch: Sends data to the backend API
- useNavigate: Redirects user after login/register

COMPLEX CODE EXPLAINED
------------------------
Here are the trickiest parts of these pages in plain English:

1. Form Submission with fetch POST
   When the user clicks "Login" or "Register", the frontend uses the
   fetch() function to send data to the backend. It packages the form
   inputs (email, password, etc.) into a JSON object and sends it as a
   POST request. The backend processes it and sends back a response.
   We use "await fetch(url, { method: 'POST', body: JSON.stringify(data) })"
   which pauses the code until the server replies. If the server says
   success, we redirect the user. If it says error, we show the message.

2. Password Hashing Concept
   We never store the actual password. Instead, the backend uses bcrypt
   to turn "Password123" into a long scrambled string like "$2b$10$xJK..."
   This is a one-way process - you cannot reverse it. When logging in,
   bcrypt takes what the user typed, hashes it, and compares the two
   hashes. If they match, the password is correct. This protects users
   even if someone steals the database, because the real passwords are
   never stored anywhere.

3. Token Storage (Cookie + localStorage)
   After login, the server sends back a JWT token. This token is stored
   in TWO places: a cookie and localStorage. The cookie is sent
   automatically with every request to the backend (the browser does this
   on its own). localStorage is used by the frontend JavaScript to quickly
   check if the user is logged in and display their name. Using both gives
   us the security of cookies (sent automatically, can be HttpOnly) and
   the convenience of localStorage (easy to read in JavaScript).

DEFENCE TALKING POINTS
------------------------
Here is what to say when presenting the Login/Register feature:

- "I implemented a secure authentication system with both client-side
  and server-side validation. The frontend catches errors early for a
  better user experience, and the backend validates again to prevent
  anyone from bypassing the frontend."

- "Passwords are hashed using bcrypt before storing in the database.
  This means even if the database were compromised, attackers would not
  have access to actual passwords. This follows industry best practice."

- "I use JWT tokens for session management. The token is stored in both
  a cookie and localStorage - the cookie provides automatic inclusion in
  HTTP requests and the localStorage lets the frontend quickly check
  login state without an extra server call."

- "The login and register forms use React useState hooks to track each
  input field, and fetch API to communicate with the backend. Error
  messages are displayed in real time so the user knows exactly what
  went wrong."

- "After successful login, useNavigate from React Router redirects the
  user to the dashboard, giving a smooth single-page-app experience
  without a full page reload."

============================================================
