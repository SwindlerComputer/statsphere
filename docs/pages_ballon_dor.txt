============================================================
STATSPHERE - BALLON D'OR PREDICTOR PAGE
============================================================
File: frontend/src/pages/BallonDor.js
URL: /ballon-dor
============================================================

WHAT THIS PAGE DOES
--------------------
This page predicts who should win the Ballon d'Or award.
It loads all 200 players, gives each one a score based on
their stats, then shows ONLY the top 10 candidates.

The player with the highest score is ranked #1.

HOW IT WORKS (STEP BY STEP)
-----------------------------
1. Page loads and fetches all 200 players from:
   GET /api/insights/players

2. For each player, it runs the calculateScore() function
   to give them a number.

3. It sorts all 200 players by score (highest first).

4. It uses .slice(0, 10) to keep only the top 10.

5. It shows these 10 players in cards with their stats.

6. At the bottom, there is a breakdown showing WHY
   the #1 player got the highest score.

THE SCORING FORMULA
---------------------
For each player, the score is calculated like this:

  Step 1: Calculate goal points   = goals x 4
  Step 2: Calculate assist points = assists x 3
  Step 3: Calculate rating points = rating x 10
  Step 4: Calculate creativity    = keyPasses x 0.5
  Step 5: Calculate consistency   = (goals / minutesPlayed x 90) x 50
  Step 6: Add them all together   = rawScore
  Step 7: Multiply by league weight = finalScore

Example with Kylian Mbappe (made up numbers):
  Goals: 25     -> 25 x 4 = 100 points
  Assists: 10   -> 10 x 3 = 30 points
  Rating: 8.2   -> 8.2 x 10 = 82 points
  Key Passes: 60 -> 60 x 0.5 = 30 points
  Goals/90: 0.8  -> 0.8 x 50 = 40 points
  Raw Score = 100 + 30 + 82 + 30 + 40 = 282
  League Weight (La Liga) = 0.95
  Final Score = 282 x 0.95 = 267.9

LEAGUE WEIGHTS EXPLAINED
--------------------------
Not all leagues are equally hard. Scoring 20 goals in the
Premier League is harder than scoring 20 in a weaker league.
So we multiply the score by a weight:

  Premier League: 1.0   (100% - hardest)
  La Liga:        0.95  (95%)
  Serie A:        0.9   (90%)
  Bundesliga:     0.9   (90%)
  Ligue 1:        0.85  (85%)
  Super Lig:      0.75  (75%)
  Saudi Pro League: 0.7 (70%)

WHY ONLY TOP 10?
-----------------
The Ballon d'Or award only goes to the best players in the
world. Showing all 200 players would be confusing and would
make the page slow. By showing only the top 10, it looks
clean and makes sense (like the real award shortlist).

KEY FUNCTIONS (what they do in simple terms)
---------------------------------------------
  calculateScore(player)
    Takes one player object. Multiplies goals by 4, assists by 3,
    rating by 10, keyPasses by 0.5, and goals-per-90 by 50, adds
    them up, then multiplies by the league weight. Returns one
    number. The higher the number, the better the player for the
    Ballon d'Or. This function is defined OUTSIDE the component
    so it is not recreated on every render (avoids bugs and is
    easier to explain in a defence).

  getLeagueWeight(leagueName)
    Returns a number between 0.7 and 1.0 for that league. Premier
    League is 1.0 (hardest), Saudi Pro League is 0.7. Used inside
    calculateScore so that stats in a harder league count more.

KEY LOOPS (what the loop does in the code)
-------------------------------------------
  for (var i = 0; i < data.length; i++) when processing players
    We loop through all 200 players, call calculateScore on each,
    and store the score on the player object. Then we sort that
    array by score (highest first) and take the first 10 with
    .slice(0, 10). So we end up with an array of exactly 10 players.

  .sort(function (a, b) { return b.score - a.score; })
    This sorts the array so that the player with the highest score
    is first and the lowest is last. We use b - a so it is
    descending (highest first).

  .slice(0, 10)
    Takes only the first 10 items from the sorted array. So even
    though we have 200 players, we only keep the top 10 for
    display. The rest are not shown.

  top10.map(function (player) { return <card>...</card> })
    Loops through the 10 players and creates one card per player.
    So we see exactly 10 cards on the page.

KEY REACT CONCEPTS USED
-------------------------
- useState: Stores top10 array and loading state
- useEffect: Fetches players and calculates scores on load
- .sort(): Sorts players by score (highest first)
- .slice(0, 10): Takes only the first 10 from sorted array
- .map(): Loops through top 10 to create cards

COMPLEX CODE EXPLAINED
------------------------

1. calculateScore Function (Weighted Formula)
   This function takes a player object and returns a single number
   representing how good they are. It multiplies each stat by a
   different weight: goals are worth 4 points each, assists worth 3,
   and so on. The weights reflect real-world importance -- goals
   matter more than key passes for the Ballon d'Or. After adding
   everything up to get a rawScore, we multiply by the league weight
   (e.g. 0.95 for La Liga). This means 25 goals in the Premier
   League is worth more than 25 goals in a weaker league. The
   formula is: finalScore = (goals*4 + assists*3 + rating*10 +
   keyPasses*0.5 + goalsPerGame*50) * leagueWeight.

2. .sort() for Ranking
   After every player gets a score, we put them in order using
   JavaScript's .sort() method. The compare function is:
     (a, b) => b.score - a.score
   This sorts from highest to lowest (descending). If player A
   scores 280 and player B scores 260, b.score - a.score = negative,
   so A comes first. The sort happens on the full 200-player array,
   so every player is ranked even though we only show the top 10.

3. .slice(0, 10) for Top 10
   After sorting, we use .slice(0, 10) to take only the first 10
   elements from the sorted array. slice(0, 10) means "start at
   index 0, stop before index 10" -- so you get indices 0 through 9,
   which is exactly 10 players. This is stored in a new variable
   called top10, and only these 10 are rendered on the page. The
   original 200-player array is unchanged because .slice() creates
   a new array rather than modifying the original.

DEFENCE TALKING POINTS
------------------------

- "The scoring formula uses weighted metrics, which is how real-world
  award predictions work. Goals are weighted higher than assists
  because the Ballon d'Or historically favours goalscorers. I
  researched the actual award criteria to make the weights realistic."

- "League weights add a layer of fairness to the prediction. Without
  them, a player scoring 30 goals in a weaker league would rank
  above a player scoring 25 in the Premier League, which wouldn't
  reflect reality. This shows I thought critically about data bias."

- "I only show the top 10 because that mirrors the real Ballon d'Or
  shortlist. Showing all 200 players would overwhelm the user and
  defeat the purpose of a 'prediction'. The .slice(0, 10) method
  is an efficient way to limit results without a database query."

- "The breakdown section at the bottom shows the user exactly how
  the #1 player earned their score. This is about transparency --
  the system is not a black box. Users can verify and understand
  the ranking, which builds trust in the prediction."

- "The entire calculation runs on the frontend in the browser. This
  demonstrates that complex data processing doesn't always need a
  backend server -- JavaScript is powerful enough to score, sort,
  and filter 200 players almost instantly."

============================================================
