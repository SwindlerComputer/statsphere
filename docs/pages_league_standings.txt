============================================================
STATSPHERE - LEAGUE STANDINGS PAGE
============================================================
File: frontend/src/pages/LeagueStandings.js
URL: /standings
============================================================

WHAT THIS PAGE DOES
--------------------
Shows the league table for any competition. The user picks
a league from a dropdown (Premier League, La Liga, etc.)
or a tournament (Champions League, World Cup 2026) and
sees the full table with points, wins, draws, losses, etc.

HOW IT WORKS (STEP BY STEP)
-----------------------------
1. Page loads with "Premier League" selected by default.

2. It calls the backend:
   GET /api/football/standings?competition=premier_league

3. The backend reads mockStandings.json, finds the data
   for "Premier League", and sends it back.

4. React stores the standings in a useState variable.

5. A table is drawn with columns:
   - Rank (1st, 2nd, 3rd etc.)
   - Team name
   - Played (number of matches)
   - Won, Draw, Lost
   - Goal Difference (GD)
   - Points

6. When the user picks a different league from the dropdown,
   a new API call is made with the new competition name.

THE DROPDOWN (COMPETITIONS)
-----------------------------
The dropdown is split into groups using <optgroup>:

  Domestic Leagues:
  - Premier League
  - La Liga
  - Serie A
  - Bundesliga
  - Ligue 1
  - Saudi Pro League

  Tournaments:
  - Champions League
  - World Cup 2026

Each option has a value (like "premier_league") and a label
(like "Premier League").

DATA FORMAT (mockStandings.json)
----------------------------------
The JSON file has one key for each competition:
{
  "Premier League": [
    {
      "rank": 1,
      "team": "Arsenal",
      "played": 38,
      "won": 28,
      "draw": 6,
      "lost": 4,
      "goalsFor": 88,
      "goalsAgainst": 35,
      "goalDifference": 53,
      "points": 90
    }
  ]
}

HOW THE BACKEND FINDS THE DATA
---------------------------------
The backend route /api/football/standings works like this:

1. Read mockStandings.json into memory
2. Look at the "competition" query parameter
3. Convert it to a display name (e.g. "premier_league" -> "Premier League")
4. Find that key in the JSON data
5. Send the array of team standings back

If the competition is not found, it sends back an empty array.

KEY REACT CONCEPTS USED
-------------------------
- useState: Stores standings array and selected competition
- useEffect: Runs the fetch when the selected competition changes
- .map(): Loops through standings to create table rows
- <select> and onChange: Handles the dropdown selection

COMPLEX CODE EXPLAINED
------------------------

1. Competition Selection and Dynamic Fetching
   The dropdown stores the selected competition in a useState
   variable (e.g. "premier_league"). This variable is listed as a
   dependency in useEffect, which means: every time the user picks
   a different league, useEffect runs again and makes a new API
   call: GET /api/football/standings?competition=premier_league.
   The "?" part is a query parameter -- it tells the backend which
   league's data to return. This pattern (useEffect watching a
   state variable) is how React components react to user input
   and refresh their data without reloading the whole page.

2. Fetching Filtered Data from the Backend
   The backend receives the competition query parameter, converts
   it from URL format ("premier_league") to display format
   ("Premier League"), and looks it up in mockStandings.json. The
   JSON file is structured as an object with league names as keys,
   so the lookup is: data["Premier League"]. If the key doesn't
   exist, it returns an empty array. This is a simple but effective
   pattern: the frontend tells the backend what it wants, and the
   backend finds and returns only the relevant data.

3. Table Rendering with Conditional Styling
   The standings table uses .map() to loop through each team and
   create a <tr> (table row). But some rows need special styling:
   the top teams might have a green background (Champions League
   spots), and the bottom teams might have a red background
   (relegation zone). This is done with conditional CSS classes:
     className={rank <= 4 ? "champions-zone" : rank >= 18 ?
     "relegation-zone" : ""}
   This ternary checks the team's rank and applies the right colour,
   making the table look like real league tables on BBC Sport or
   the Premier League website.

DEFENCE TALKING POINTS
------------------------

- "League standings are a fundamental feature for any football app.
  Users expect to see who's top of the table, and presenting this
  data clearly in a sortable, readable table demonstrates good data
  presentation skills."

- "I support 8 different competitions including domestic leagues and
  tournaments. The dropdown uses <optgroup> to separate them into
  categories, which improves usability. This shows I thought about
  information architecture and not just functionality."

- "The useEffect dependency array is key here -- by including the
  selected competition as a dependency, React automatically re-
  fetches data whenever the user changes the dropdown. This is a
  core React concept that makes the page reactive without manual
  event handling for the fetch."

- "The data is structured with league names as keys in the JSON
  file. This is an efficient lookup pattern -- instead of searching
  through a flat array, the backend can go directly to the right
  data using the key. This is O(1) lookup time versus O(n)
  searching."

- "Conditional styling for Champions League and relegation zones
  adds a professional touch that matches how real football websites
  display standings. It makes the data more meaningful at a glance
  because users can immediately see which teams are in important
  positions."

============================================================
